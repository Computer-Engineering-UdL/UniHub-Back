[importlinter]
root_package = app

[importlinter:contract:layers]
name = Layer architecture
type = layers
layers =
    app.api
    app.domains
    app.schemas
    app.models
    app.core
    app.literals

[importlinter:contract:core-independence]
name = Core should not import from upper layers
type = forbidden
source_modules =
    app.core
forbidden_modules =
    app.api
    app.domains
    app.schemas
    app.models
    app.seeds

[importlinter:contract:domains-independence]
name = Domains should not import from the API layer
type = forbidden
source_modules =
    app.domains
forbidden_modules =
    app.api

[importlinter:contract:schemas-independence]
name = Schemas should not import from business logic
type = forbidden
source_modules =
    app.schemas
forbidden_modules =
    app.api
    app.domains
    app.core.dependencies

[importlinter:contract:models-independence]
name = Models should not import from upper layers
type = forbidden
source_modules =
    app.models
forbidden_modules =
    app.api
    app.domains
    app.schemas
